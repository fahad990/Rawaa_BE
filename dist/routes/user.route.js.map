{"version":3,"sources":["../../src/routes/user.route.js"],"names":["requireSignIn","authenticate","session","requireAuth","router","Router","use","route","post","single","validateBody","signUp","signin","get","galonsOfOneProvider","put","updateProfile","reriveUserDetails","cartonsOfOneProvider","retriveAllNotification","completedOrderOfOneUser","unCompletedOrderOfOneUser"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA,IAAMA,gBAAgB,mBAASC,YAAT,CAAsB,OAAtB,EAA+B,EAAEC,SAAS,KAAX,EAA/B,CAAtB;AACA,IAAMC,cAAc,mBAASF,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAApB;AACA,IAAME,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,GAAP;;AAEAF,OAAOG,KAAP,CAAa,SAAb,EACKC,IADL,CAEI,0BAAa,OAAb,EAAsBC,MAAtB,CAA6B,KAA7B,CAFJ,EAGI,eAAeC,YAAf,EAHJ,EAII,eAAeC,MAJnB;;AAOAP,OAAOI,IAAP,CAAY,SAAZ,EAAuBR,aAAvB,kCAAsD,eAAeY,MAArE;;AAEAR,OAAOG,KAAP,CAAa,uBAAb,EACKM,GADL,CAEIV,WAFJ,EAGI,gBAAgBW,mBAHpB;;AAKAV,OAAOG,KAAP,CAAa,gBAAb,EACKQ,GADL,CAEIZ,WAFJ,EAGI,0BAAa,OAAb,EAAsBM,MAAtB,CAA6B,KAA7B,CAHJ,EAII,eAAeO,aAJnB,EAKKH,GALL,CAKSV,WALT,EAKsB,eAAec,iBALrC;;AAOAb,OAAOG,KAAP,CAAa,wBAAb,EACKM,GADL,CAEIV,WAFJ,kCAII,kBAAiBe,oBAJrB;;AAMAd,OAAOG,KAAP,CAAa,6BAAb,EACKM,GADL,CACSV,WADT,kCACsC,uBAAuBgB,sBAD7D;;AAGAf,OAAOG,KAAP,CAAa,iCAAb,EACKM,GADL,CACSV,WADT,kCACsC,eAAeiB,uBADrD;;AAGAhB,OAAOG,KAAP,CAAa,oCAAb,EACKM,GADL,CACSV,WADT,kCACsC,eAAekB,yBADrD;;kBAGejB,M","file":"user.route.js","sourcesContent":["import UserController from '../controllers/user.controller'\r\nimport galonController from '../controllers/galon/galon.controller'\r\nimport cartonController from '../controllers/cartona/cartona.controller'\r\nimport NotificationController from '../controllers/notification.controller'\r\n\r\nimport express from 'express';\r\nimport passport from 'passport';\r\nimport passportService from '../services/passport';\r\nimport { multerSaveTo } from '../services/multer'\r\nimport pushRoute from \"./push-notification.route\";\r\nimport { checkBlockUser } from '../helpers/check-block-user';\r\nconst requireSignIn = passport.authenticate('local', { session: false });\r\nconst requireAuth = passport.authenticate('jwt', { session: false });\r\nconst router = express.Router();\r\n\r\nrouter.use(pushRoute);\r\n\r\nrouter.route('/signup')\r\n    .post(\r\n    multerSaveTo('users').single('img'),\r\n    UserController.validateBody(),\r\n    UserController.signUp\r\n    )\r\n\r\nrouter.post(\"/signin\", requireSignIn, checkBlockUser, UserController.signin);\r\n\r\nrouter.route(\"/users/:userId/galons\")\r\n    .get(\r\n    requireAuth,\r\n    galonController.galonsOfOneProvider)\r\n\r\nrouter.route('/users/:userId')\r\n    .put(\r\n    requireAuth,\r\n    multerSaveTo('users').single('img'),\r\n    UserController.updateProfile)\r\n    .get(requireAuth, UserController.reriveUserDetails)\r\n\r\nrouter.route(\"/users/:userId/cartons\")\r\n    .get(\r\n    requireAuth,\r\n    checkBlockUser,\r\n    cartonController.cartonsOfOneProvider)\r\n\r\nrouter.route(\"/users/:userId/notification\")\r\n    .get(requireAuth, checkBlockUser, NotificationController.retriveAllNotification)\r\n\r\nrouter.route('/users/:userId/orders/completed')\r\n    .get(requireAuth, checkBlockUser, UserController.completedOrderOfOneUser)\r\n\r\nrouter.route('/users/:userId/orders/un-completed')\r\n    .get(requireAuth, checkBlockUser, UserController.unCompletedOrderOfOneUser)\r\n\r\nexport default router;\r\n\r\n\r\n"]}