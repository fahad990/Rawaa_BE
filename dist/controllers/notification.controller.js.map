{"version":3,"sources":["../../src/controllers/notification.controller.js"],"names":["retriveAllNotification","req","res","next","userId","params","find","targetUser","populate","path","model","sort","creationDate","allNotificattion","status","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;;;kBAEe;AACX;AACMA,0BAFK,kCAEkBC,GAFlB,EAEuBC,GAFvB,EAE4BC,IAF5B,EAEkC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjCC,kCAFiC,GAExBH,IAAII,MAAJ,CAAWD,MAFa;AAAA;AAAA,mCAGR,uBAAkBE,IAAlB,CAAuB,EAAEC,YAAYH,MAAd,EAAvB,EACxBI,QADwB,CACf;AACNC,sCAAM,OADA;AAEND,0CAAU,EAAEC,MAAM,UAAR,EAAoBC,OAAO,MAA3B;AAFJ,6BADe,EAItBC,IAJsB,CAIjB,EAAEC,cAAc,CAAC,CAAjB,EAJiB,CAHQ;;AAAA;AAGjCC,4CAHiC;AAAA,6DAQ9BX,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,gBAArB,CAR8B;;AAAA;AAAA;AAAA;;AAUrCV;;AAVqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY5C;AAdU,C","file":"notification.controller.js","sourcesContent":["import NotificationModel from '../models/notification.model'\r\nimport mongoose from 'mongoose';\r\nimport { body, validationResult } from 'express-validator/check';\r\nimport ApiError from '../helpers/ApiError'\r\nimport ApiResponse from '../helpers/ApiResponse'\r\n\r\nexport default {\r\n    //retrive all notification of one customer\r\n    async retriveAllNotification(req, res, next) {\r\n        try {\r\n            let userId = req.params.userId;\r\n            let allNotificattion = await NotificationModel.find({ targetUser: userId })\r\n                .populate({\r\n                    path: 'order',\r\n                    populate: { path: 'customer', model: 'user' }\r\n                }).sort({ creationDate: -1 })\r\n            return res.status(200).json(allNotificattion)\r\n        } catch (err) {\r\n            next(err)\r\n        }\r\n    },\r\n}"]}