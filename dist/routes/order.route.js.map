{"version":3,"sources":["../../src/routes/order.route.js"],"names":["requireAuth","authenticate","session","router","Router","route","post","validateBody","createOrder","get","allOrdersOfProvider","orderDetails","put","acceptOrder","refuseOrder","sendReasoneOfRefuseOrder","makeOrderOnDiliver","makeOrderDone","canceleOrder","validateBodyOfCalulatePrice","calculatePriceOfDistance"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA,IAAMA,cAAc,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAApB;AACA,IAAMC,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,KAAP,CAAa,uBAAb,EACKC,IADL,CAEIN,WAFJ,kCAII,gBAAgBO,YAAhB,EAJJ,EAKI,gBAAgBC,WALpB;;AAOAL,OAAOE,KAAP,CAAa,+BAAb,EACKI,GADL,CACST,WADT,kCAGI,gBAAgBU,mBAHpB;AAIA;AACAP,OAAOE,KAAP,CAAa,kBAAb,EACKI,GADL,CACST,WADT,kCAGI,gBAAgBW,YAHpB;AAIA;AACAR,OAAOE,KAAP,CAAa,yBAAb,EACKO,GADL,CACSZ,WADT,kCAGI,gBAAgBa,WAHpB;AAIA;AACAV,OAAOE,KAAP,CAAa,yBAAb,EACKO,GADL,CACSZ,WADT,kCAGI,gBAAgBc,WAHpB;;AAKAX,OAAOE,KAAP,CAAa,iCAAb,EACKO,GADL,CACSZ,WADT,kCAGI,gBAAgBe,wBAHpB;;AAKA;AACAZ,OAAOE,KAAP,CAAa,6BAAb,EACKO,GADL,CACSZ,WADT,kCAGI,gBAAgBgB,kBAHpB;AAIA;AACAb,OAAOE,KAAP,CAAa,4BAAb,EACKO,GADL,CACSZ,WADT,kCAGI,gBAAgBiB,aAHpB;;AAKA;AACAd,OAAOE,KAAP,CAAa,2BAAb,EACKO,GADL,CACSZ,WADT,kCAGI,gBAAgBkB,YAHpB;;AAKA;AACAf,OAAOE,KAAP,CAAa,uBAAb,EACKC,IADL,CAEIN,WAFJ,kCAII,gBAAgBmB,2BAAhB,EAJJ,EAKI,gBAAgBC,wBALpB;kBAMejB,M","file":"order.route.js","sourcesContent":["import OrderController from '../controllers/order.controller';\r\nimport express from 'express';\r\nimport passport from 'passport';\r\nimport { checkBlockUser } from '../helpers/check-block-user'\r\nconst requireAuth = passport.authenticate('jwt', { session: false });\r\nconst router = express.Router();\r\n\r\nrouter.route('/users/:userId/orders')\r\n    .post(\r\n    requireAuth,\r\n    checkBlockUser,\r\n    OrderController.validateBody(),\r\n    OrderController.createOrder)\r\n\r\nrouter.route('/providers/:providerId/orders')\r\n    .get(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.allOrdersOfProvider)\r\n//retrive one order details\r\nrouter.route('/orders/:orderId')\r\n    .get(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.orderDetails)\r\n//accept order \r\nrouter.route('/orders/:orderId/accept')\r\n    .put(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.acceptOrder)\r\n//refuse order \r\nrouter.route('/orders/:orderId/refuse')\r\n    .put(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.refuseOrder)\r\n\r\nrouter.route('/orders/:orderId/refuse-reasone')\r\n    .put(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.sendReasoneOfRefuseOrder)\r\n\r\n//on the way order \r\nrouter.route('/orders/:orderId/on-the-Way')\r\n    .put(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.makeOrderOnDiliver)\r\n//make order done \r\nrouter.route('/orders/:orderId/delivered')\r\n    .put(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.makeOrderDone)\r\n\r\n//make order canceled \r\nrouter.route('/orders/:orderId/canceled')\r\n    .put(requireAuth,\r\n    checkBlockUser,\r\n    OrderController.canceleOrder)\r\n\r\n//get distance between 2 point locations\r\nrouter.route('/orders/pric-distance')\r\n    .post(\r\n    requireAuth,\r\n    checkBlockUser,\r\n    OrderController.validateBodyOfCalulatePrice(),\r\n    OrderController.calculatePriceOfDistance)\r\nexport default router;"]}