{"version":3,"sources":["../../src/models/message-admin.model.js"],"names":["MessageSchema","text","type","String","required","user","Number","ref","targetUser","creationDate","Date","default","now","set","transform","doc","ret","options","id","_id","__v","initialize","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,gBAAgB,qBAAW;AAC7BC,UAAM;AACFC,cAAMC,MADJ;AAEFC,kBAAU;AAFR,KADuB;AAK7BC,UAAM;AACFH,cAAMI,MADJ;AAEFC,aAAK,MAFH;AAGFH,kBAAU;AAHR,KALuB;AAU7BI,gBAAY;AACRN,cAAMI,MADE;AAERC,aAAK,MAFG;AAGRH,kBAAU;AAHF,KAViB;AAe7BK,kBAAc;AACVP,cAAMQ,IADI;AAEVC,iBAASD,KAAKE;AAFJ;AAfe,CAAX,CAAtB;;AAqBAZ,cAAca,GAAd,CAAkB,QAAlB,EAA4B;AACxBC,eAAW,mBAACC,GAAD,EAAMC,GAAN,EAAWC,OAAX,EAAuB;AAC9BD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;AACA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AALuB,CAA5B;;AASA,gCAAcC,UAAd,CAAyB,mBAASC,UAAlC;AACAtB,cAAcuB,MAAd,CAAqB,gCAAcA,MAAnC,EAA2C;AACvCC,WAAO,SADgC;AAEvCC,aAAS;AAF8B,CAA3C;;kBAKe,mBAASD,KAAT,CAAe,SAAf,EAA0BxB,aAA1B,C","file":"message-admin.model.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nimport autoIncrement from 'mongoose-auto-increment';\r\n\r\nconst MessageSchema = new Schema({\r\n    text: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    user: {\r\n        type: Number,\r\n        ref: 'user',\r\n        required: true\r\n    },\r\n    targetUser: {\r\n        type: Number,\r\n        ref: 'user',\r\n        required: true\r\n    },\r\n    creationDate: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n})\r\n\r\nMessageSchema.set('toJSON', {\r\n    transform: (doc, ret, options) => {\r\n        ret.id = ret._id;\r\n        delete ret._id;\r\n        delete ret.__v;\r\n    }\r\n});\r\n\r\n\r\nautoIncrement.initialize(mongoose.connection);\r\nMessageSchema.plugin(autoIncrement.plugin, {\r\n    model: 'message',\r\n    startAt: 1,\r\n});\r\n\r\nexport default mongoose.model(\"message\", MessageSchema); "]}