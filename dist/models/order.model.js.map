{"version":3,"sources":["../../src/models/order.model.js"],"names":["OrderSchema","cartons","type","Number","ref","cartonsQuantity","galons","galonsQuantityOfBuying","galonsQuantityOfSubstitution","price","required","deliveryPrice","location","index","customer","provider","status","String","enum","default","note","creationDate","Date","now","set","transform","doc","ret","options","id","_id","__v","initialize","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,cAAc,qBAAW;AAC3BC,aAAS,CAAC;AACNC,cAAMC,MADA;AAENC,aAAK;AAFC,KAAD,CADkB;AAK3BC,qBAAiB,CAAC;AACdH,cAAMC;AADQ,KAAD,CALU;AAQ3BG,YAAQ,CAAC;AACLJ,cAAMC,MADD;AAELC,aAAK;AAFA,KAAD,CARmB;AAY3BG,4BAAwB,CAAC;AACrBL,cAAMC;AADe,KAAD,CAZG;AAe3BK,kCAA8B,CAAC;AAC3BN,cAAMC;AADqB,KAAD,CAfH;AAkB3BM,WAAO;AACHP,cAAMC,MADH;AAEHO,kBAAU;AAFP,KAlBoB;AAsB3BC,mBAAe;AACXT,cAAMC,MADK;AAEXO,kBAAU;AAFC,KAtBY;AA0B3B;AACAE,cAAU;AACNV,cAAM,CAACC,MAAD,CADA,EACU;AAChBO,kBAAU,IAFJ;AAGNG,eAAO;AAHD,KA3BiB;AAgC3BC,cAAU;AACNZ,cAAMC,MADA;AAENC,aAAK;AAFC,KAhCiB;AAoC3BW,cAAU;AACNb,cAAMC,MADA;AAENC,aAAK;AAFC,KApCiB;AAwC3BY,YAAQ;AACJd,cAAMe,MADF;AAEJC,cAAM,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB,EAAqC,UAArC,EAAiD,WAAjD,EAA8D,UAA9D,CAFF;AAGJC,iBAAS;AAHL,KAxCmB;AA6C3BC,UAAM;AACFlB,cAAMe;AADJ,KA7CqB;AAgD3BI,kBAAc;AACVnB,cAAMoB,IADI;AAEVH,iBAASG,KAAKC;AAFJ;AAhDa,CAAX,CAApB;;AAsDAvB,YAAYwB,GAAZ,CAAgB,QAAhB,EAA0B;AACtBC,eAAW,mBAACC,GAAD,EAAMC,GAAN,EAAWC,OAAX,EAAuB;AAC9BD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;AACA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AALqB,CAA1B;;AASA,gCAAcC,UAAd,CAAyB,mBAASC,UAAlC;AACAjC,YAAYkC,MAAZ,CAAmB,gCAAcA,MAAjC,EAAyC;AACrCC,WAAO,OAD8B;AAErCC,aAAS;AAF4B,CAAzC;;kBAKe,mBAASD,KAAT,CAAe,OAAf,EAAwBnC,WAAxB,C","file":"order.model.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nimport autoIncrement from 'mongoose-auto-increment';\r\n\r\nconst OrderSchema = new Schema({\r\n    cartons: [{\r\n        type: Number,\r\n        ref: 'carton',\r\n    }],\r\n    cartonsQuantity: [{\r\n        type: Number,\r\n    }],\r\n    galons: [{\r\n        type: Number,\r\n        ref: \"galon\",\r\n    }],\r\n    galonsQuantityOfBuying: [{\r\n        type: Number,\r\n    }],\r\n    galonsQuantityOfSubstitution: [{\r\n        type: Number,\r\n    }],\r\n    price: {\r\n        type: Number,\r\n        required: true\r\n    },\r\n    deliveryPrice: {\r\n        type: Number,\r\n        required: true\r\n    },\r\n    //location of deliver\r\n    location: {\r\n        type: [Number], // Don't forget [0=>longitude,1=>latitude]\r\n        required: true,\r\n        index: '2d'\r\n    },\r\n    customer: {\r\n        type: Number,\r\n        ref: \"user\"\r\n    },\r\n    provider: {\r\n        type: Number,\r\n        ref: \"user\"\r\n    },\r\n    status: {\r\n        type: String,\r\n        enum: [\"pendding\", \"accepted\", \"rejected\", \"onTheWay\", \"delivered\", \"canceled\"],\r\n        default: \"pendding\",\r\n    },\r\n    note: {\r\n        type: String,\r\n    },\r\n    creationDate: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n})\r\n\r\nOrderSchema.set('toJSON', {\r\n    transform: (doc, ret, options) => {\r\n        ret.id = ret._id;\r\n        delete ret._id;\r\n        delete ret.__v;\r\n    }\r\n});\r\n\r\n\r\nautoIncrement.initialize(mongoose.connection);\r\nOrderSchema.plugin(autoIncrement.plugin, {\r\n    model: 'order',\r\n    startAt: 1,\r\n});\r\n\r\nexport default mongoose.model(\"order\", OrderSchema); "]}