{"version":3,"sources":["../../src/models/notification.model.js"],"names":["NotificationSchema","targetUser","type","Number","ref","required","order","text","String","seen","Boolean","default","creationDate","Date","now","set","transform","doc","ret","options","id","_id","__v","initialize","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,qBAAqB,qBAAW;AAClCC,gBAAY;AACRC,cAAMC,MADE;AAERC,aAAK,MAFG;AAGRC,kBAAU;AAHF,KADsB;AAMlCC,WAAO;AACHJ,cAAMC,MADH;AAEHC,aAAK,OAFF;AAGHC,kBAAU;AAHP,KAN2B;AAWlCE,UAAM;AACFL,cAAMM,MADJ;AAEFH,kBAAU;AAFR,KAX4B;AAelCI,UAAM;AACFP,cAAMQ,OADJ;AAEFC,iBAAS;AAFP,KAf4B;AAmBlCC,kBAAc;AACVV,cAAMW,IADI;AAEVF,iBAASE,KAAKC;AAFJ;AAnBoB,CAAX,CAA3B;;AAyBAd,mBAAmBe,GAAnB,CAAuB,QAAvB,EAAiC;AAC7BC,eAAW,mBAACC,GAAD,EAAMC,GAAN,EAAWC,OAAX,EAAuB;AAC9BD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;AACA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AAL4B,CAAjC;;AASA,gCAAcC,UAAd,CAAyB,mBAASC,UAAlC;AACAxB,mBAAmByB,MAAnB,CAA0B,gCAAcA,MAAxC,EAAgD;AAC5CC,WAAO,mBADqC;AAE5CC,aAAS;AAFmC,CAAhD;;kBAKe,mBAASD,KAAT,CAAe,mBAAf,EAAoC1B,kBAApC,C","file":"notification.model.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nimport autoIncrement from 'mongoose-auto-increment';\r\n\r\nconst NotificationSchema = new Schema({\r\n    targetUser: {\r\n        type: Number,\r\n        ref: 'user',\r\n        required: true\r\n    },\r\n    order: {\r\n        type: Number,\r\n        ref: 'order',\r\n        required: true\r\n    },\r\n    text: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    seen: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    creationDate: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n})\r\n\r\nNotificationSchema.set('toJSON', {\r\n    transform: (doc, ret, options) => {\r\n        ret.id = ret._id;\r\n        delete ret._id;\r\n        delete ret.__v;\r\n    }\r\n});\r\n\r\n\r\nautoIncrement.initialize(mongoose.connection);\r\nNotificationSchema.plugin(autoIncrement.plugin, {\r\n    model: 'order-notificaton',\r\n    startAt: 1,\r\n});\r\n\r\nexport default mongoose.model(\"order-notificaton\", NotificationSchema); "]}