{"version":3,"sources":["../../src/controllers/notification.controller.js"],"names":["retriveAllNotification","req","res","next","userId","params","find","targetUser","populate","path","model","sort","creationDate","allNotificattion","status","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;;;kBAEe;AACX;AACMA,0BAFK,kCAEkBC,GAFlB,EAEuBC,GAFvB,EAE4BC,IAF5B,EAEkC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjCC,kCAFiC,GAExBH,IAAII,MAAJ,CAAWD,MAFa;AAAA;AAAA,mCAGR,uBAAkBE,IAAlB,CAAuB,EAAEC,YAAYH,MAAd,EAAvB,EACxBI,QADwB,CACf;AACNC,sCAAM,OADA;AAEND,0CAAU,EAAEC,MAAM,UAAR,EAAoBC,OAAO,MAA3B;AAFJ,6BADe,EAItBC,IAJsB,CAIjB,EAAEC,cAAc,CAAC,CAAjB,EAJiB,CAHQ;;AAAA;AAGjCC,4CAHiC;AAAA,6DAQ9BX,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,gBAArB,CAR8B;;AAAA;AAAA;AAAA;;AAUrCV;;AAVqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY5C;AAdU,C","file":"notification.controller.js","sourcesContent":["import NotificationModel from '../models/notification.model'\nimport mongoose from 'mongoose';\nimport { body, validationResult } from 'express-validator/check';\nimport ApiError from '../helpers/ApiError'\nimport ApiResponse from '../helpers/ApiResponse'\n\nexport default {\n    //retrive all notification of one customer\n    async retriveAllNotification(req, res, next) {\n        try {\n            let userId = req.params.userId;\n            let allNotificattion = await NotificationModel.find({ targetUser: userId })\n                .populate({\n                    path: 'order',\n                    populate: { path: 'customer', model: 'user' }\n                }).sort({ creationDate: -1 })\n            return res.status(200).json(allNotificattion)\n        } catch (err) {\n            next(err)\n        }\n    },\n}"]}